version: 2  # Required

build:
  os: ubuntu-24.04
  tools:
    python: '3'
  jobs:
   pre_create_environment:
     - asdf plugin add uv
     - asdf install uv latest
     - asdf global uv latest
   create_environment:
     - uv venv "${READTHEDOCS_VIRTUALENV_PATH}"
   install:
     # note that uv sync should be run as `--frozen`, but this requires uv.lock to be committed to the repo
     - UV_PROJECT_ENVIRONMENT="${READTHEDOCS_VIRTUALENV_PATH}" uv sync --only-group docs

sphinx:
   configuration: docs/conf.py
   fail_on_warning: true

formats: all
